<UserControl x:Class="Coloretto.PlayerHandPlusTwoCard" 
    xmlns:local="clr-namespace:Coloretto"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <LinearGradientBrush x:Key="CloudBrush" StartPoint="0,0.5" EndPoint="1,0.5">
            <LinearGradientBrush.GradientStops>
                <GradientStop Color="#FFA8B1C2" Offset="0"/>
                <GradientStop Color="#FFF0F0F0" Offset="0.619141"/>
                <GradientStop Color="#FFE0E7F5" Offset="1"/>
            </LinearGradientBrush.GradientStops>
        </LinearGradientBrush>
        <DrawingImage x:Key="Clouds">
            <DrawingImage.Drawing>
                <DrawingGroup>
                    <DrawingGroup.Children>
                        <GeometryDrawing Brush="{StaticResource CloudBrush}" Geometry="M -62.7363,42.9746C -63.7916,42.7497 -64.5036,42.4655 -65.9023,42.2997C -66.9203,42.179 -68.3463,42.2097 -69.5683,42.1647C -71.0125,42.1197 -72.4548,41.9864 -73.9008,42.0297C -75.6285,42.0816 -77.0113,42.2997 -78.5666,42.4347L -79.2331,39.195L -79.3997,36.3604C -79.3997,31.5806 -78.1083,26.7764 -73.7342,22.0519C -71.818,20.7819 -69.035,19.5232 -64.9025,18.4073C -62.3079,18.057 -58.6644,17.7416 -55.4044,17.8674C -53.872,14.6089 -50.3756,11.3085 -42.9068,8.28342C -38.9891,7.37668 -32.7624,6.67157 -26.2433,6.39362L -22.5773,6.52863L -6.91369,6.79858C -1.01651,4.86191 6.18362,3.03464 13.749,1.26419C 20.0786,0.113159 26.3674,-1.04919 33.2452,-2.11044C 36.9534,-2.39655 40.9857,-2.65039 45.0763,-2.65039C 47.3055,-2.3924 49.3769,-2.0777 50.9085,-1.70551C 55.6153,-0.0109253 55.6773,1.96396 55.9075,3.82892C 59.2785,2.14847 64.1586,0.52121 70.5714,-0.895569C 73.4001,-1.08655 76.4358,-1.42072 79.403,-1.30054L 82.4024,-0.76059L 85.4019,0.184296C 91.7346,2.38281 92.4138,4.9249 94.4001,7.3385C 96.8145,11.7391 98.4382,16.1523 99.5658,20.5671C 97.5106,20.3421 95.6413,20.0616 93.4003,19.8922C 91.4176,19.7422 89.1789,19.7122 87.0682,19.6222C 80.6337,19.7558 74.6,20.2426 68.7384,20.7021C 62.3036,21.8191 56.983,23.1213 52.5749,24.4817C 45.396,27.7124 41.9382,31.1744 40.2439,34.6055C 39.3132,38.8777 39.5681,43.1633 41.2437,47.4292C 38.7442,47.3841 36.2436,47.2476 33.7451,47.2942C 31.2895,47.3399 29.0794,47.5641 26.7465,47.6991C 24.5802,47.9241 22.0874,48.0799 20.2477,48.3741C 17.7969,48.7659 16.1374,49.274 14.0823,49.7239C 3.8441,52.5674 -2.08169,55.8185 -6.74706,59.0379C -9.78555,57.397 -25.8303,57.2943 -30.9091,55.7982C -34.0236,53.9633 -34.8658,52.0328 -35.4082,50.1289C -39.4317,51.7585 -43.4051,53.3933 -47.9058,54.9883C -50.0784,55.3183 -53.7562,55.6078 -56.4042,55.3933C -66.6933,51.6047 -63.0379,47.1286 -62.7363,42.9746 Z "/>
                        <GeometryDrawing Brush="{StaticResource CloudBrush}" Geometry="M 41.2437,47.4292C 39.039,41.816 38.6081,36.1391 42.7434,30.556C 45.2787,28.5022 48.2035,26.4489 52.5749,24.4817C 56.983,23.1213 62.3036,21.8191 68.7384,20.7021C 74.6,20.2426 80.6337,19.7558 87.0682,19.6222C 95.7955,19.9943 103.406,21.0479 109.231,22.1869C 122.477,25.7638 128.628,29.9795 134.392,34.0656C 134.61,31.593 137.073,29.0653 142.724,26.7764C 147.734,25.7617 154.488,25.0195 160.721,24.2117C 165.584,24.0541 170.979,24.241 175.385,24.6166C 181.573,25.7961 184.492,27.4052 186.382,28.9362C 189.541,32.5918 189.468,36.3123 189.215,40.005C 192.584,40.6872 196.352,41.3189 200.38,41.8947C 203.976,42.0769 207.783,42.1647 211.544,42.1647C 204.778,44.4484 206.191,47.1852 205.212,49.7239C 204.906,54.678 202.271,59.7531 209.211,64.5723C 210.727,65.1862 212.66,65.7746 214.877,66.3271C 219.342,66.8438 223.899,67.3794 229.041,67.677C 236.573,68.0977 245.496,67.6131 252.536,67.002C 249.956,70.2173 246.294,73.4082 242.372,76.586C 239.274,78.0916 236.334,79.6177 232.04,81.0405C 209.951,87.2643 177.396,92.2934 149.056,97.7787C 144.224,98.3586 139.356,99.0287 133.559,99.2635C 129.021,99.07 125.322,98.4252 122.728,97.7787C 119.454,96.3506 117.536,94.8363 116.229,93.3241C 114.708,90.8602 114.192,88.3765 114.396,85.8999C 111.999,91.7264 109.037,97.5672 102.732,103.313C 98.5584,105.889 93.2119,108.419 86.9016,110.872C 82.5961,112.128 78.7174,113.555 71.5712,114.382L 68.2385,114.517L 65.2391,114.652C 61.3112,114.149 58.8419,113.372 56.7407,112.627C 51.2133,109.749 48.7052,106.721 46.7426,103.718C 41.6213,106.978 35.5739,110.217 27.413,113.302C 23.6834,114.013 20.015,114.733 16.4151,115.462C 11.5307,115.901 4.87866,116.282 -0.0816736,115.867C -1.58139,115.597 -3.29996,115.356 -4.58081,115.057C -6.20678,114.677 -7.35805,114.247 -8.74667,113.842C -13.8123,111.701 -17.2118,109.459 -20.5777,107.228C -25.2751,103.634 -28.2007,99.9654 -29.4094,96.2938C -28.9553,93.7191 -27.7615,91.1368 -25.0769,88.5997C -20.7329,85.7406 -14.6801,82.8994 -5.58061,80.3656C -8.88414,80.3656 -10.9955,79.6572 -12.246,79.1507C -15.3312,77.2763 -18.2356,75.3904 -20.4111,73.4813C -17.1326,68.6384 -13.4058,63.7847 -6.74706,59.0379C -2.08169,55.8185 3.8441,52.5674 14.0823,49.7239C 16.1374,49.274 17.7969,48.7659 20.2477,48.3741C 22.0874,48.0799 24.5802,47.9241 26.7465,47.6991C 29.0794,47.5641 31.2895,47.3399 33.7451,47.2942C 36.2436,47.2476 38.7442,47.3841 41.2437,47.4292 Z "/>
                        <GeometryDrawing Brush="{StaticResource CloudBrush}" Geometry="M 211.544,42.1647C 207.783,42.1647 203.976,42.0769 200.38,41.8947C 196.352,41.3189 192.584,40.6872 189.215,40.005C 197.055,35.2419 206.834,30.563 217.71,25.9665C 225.979,23.1755 236.119,20.4463 249.537,18.2723C 255.654,17.7006 263.009,17.4624 270.033,17.4624C 274.216,17.7571 277.749,18.2595 281.531,18.6773C 292.792,21.057 300.043,23.9295 306.193,26.7764C 301.47,23.9575 298.36,21.0522 296.861,18.1373C 296.597,15.7828 298.041,13.394 301.694,11.1181C 305.657,9.19189 312.416,7.40643 320.357,5.85367C 328.21,4.73105 337.187,3.63205 347.351,3.28894C 356.841,3.90393 364.734,5.17813 370.847,6.52863C 378.465,8.67499 383.629,11.0487 388.344,13.4128C 390.212,12.2487 392.81,11.0155 398.008,10.1732C 401.463,10.1732 405.092,10.1133 408.34,10.3082C 413.815,10.92 418.322,11.7562 422.504,12.6029C 426.156,13.7863 428.821,15.0724 430.169,16.3825C 431.257,18.8073 430.363,21.2599 428.502,23.6718C 432.504,21.5448 436.961,19.3411 445.333,17.5974C 447.388,17.5524 449.443,17.4174 451.498,17.4624C 453.69,17.5104 455.608,17.7324 457.663,17.8674L 464.162,19.3522C 473.21,22.5469 480.381,25.9088 485.325,29.3411C 488.539,31.9451 487.658,34.6474 487.658,37.3053C 492.271,39.3606 495.717,41.4943 498.156,43.6496C 499.349,45.3069 500.15,46.9751 500.322,48.644C 500.011,50.405 498.98,52.1641 497.489,53.9084C 494.321,56.2778 490.307,58.6173 485.825,60.9277C 480.279,63.3469 474.741,65.9077 464.162,67.8119C 461.323,67.8119 460.26,67.062 459.83,66.5971C 459.83,65.1548 460.226,63.7081 461.329,62.2775C 457.963,66.0276 454.315,69.7749 449.498,73.4813C 444.637,75.7784 438.231,77.9776 432.668,80.2306C 428.949,80.8331 425.045,81.43 420.504,81.8504C 416.854,81.8504 413.365,81.5136 410.339,81.1755C 401.604,78.5545 398.33,75.4936 395.509,72.5364C 388.233,75.9045 383.984,79.4871 374.013,82.6603C 369.981,83.7102 365.172,84.7088 359.349,85.495C 355.204,85.6549 350.941,85.765 346.685,85.765C 340.149,84.8306 335.662,83.4819 333.021,82.1204C 328.946,79.4793 327.029,76.7436 326.189,74.0213C 322.581,75.9699 317.779,77.8609 312.358,79.6906C 309.173,80.0593 305.948,80.4189 302.693,80.7705C 298.962,80.7705 295.26,80.9055 291.529,80.9055C 284.61,80.1582 277.185,79.372 272.866,78.2058C 267.124,76.4616 265.516,74.3835 264.701,72.4014C 264.701,69.4646 266.51,66.5212 269.533,63.6274C 264.184,64.794 258.136,65.8681 252.536,67.002C 246.774,67.5021 240.281,67.7615 233.873,67.9469C 224.971,67.4496 215.483,66.6037 210.878,65.2472C 203.334,62.1916 205.349,58.6936 204.879,55.3933C 205.091,51.6098 205.098,47.8065 208.045,44.0545L 209.545,42.8396L 211.544,42.1647L 212.544,41.7598L 213.877,41.6248L 216.71,41.7598L 213.877,41.6248L 212.544,41.7598L 211.544,42.1647 Z "/>
                    </DrawingGroup.Children>
                </DrawingGroup>
            </DrawingImage.Drawing>
        </DrawingImage>
    </UserControl.Resources>
    <UserControl.Template>
        <ControlTemplate TargetType="{x:Type local:PlayerHandPlusTwoCard}">
            <Grid Margin="3">
                <Rectangle x:Name="rect" RadiusX="10" RadiusY="10" Fill="#96B9E3" Stroke="Black" StrokeThickness="1" >
                    <Rectangle.BitmapEffect>
                        <DropShadowBitmapEffect Color="Black" Direction="90" ShadowDepth="1" Softness="0.265"/>
                    </Rectangle.BitmapEffect>
                </Rectangle>
                <Viewbox Stretch="Fill" Margin="1">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" ClipToBounds="True">
                            <Image Height="80" Source="{StaticResource Clouds}" >
                                <Image.RenderTransform>
                                    <TranslateTransform x:Name="myCloudsTranslate"/>
                                </Image.RenderTransform>
                                <Image.Triggers>
                                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard SpeedRatio="1.0">
                                                    <DoubleAnimationUsingKeyFrames Duration="0:06:00"
                                                                       Storyboard.TargetName="myCloudsTranslate"
                                                                       Storyboard.TargetProperty="X"
                                                                       RepeatBehavior="Forever">
                                                        <LinearDoubleKeyFrame Value="400"  KeyTime="0:0:00"/>
                                                        <LinearDoubleKeyFrame Value="-480" KeyTime="0:3:00"/>
                                                        <LinearDoubleKeyFrame Value="400"  KeyTime="0:6:00"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Image.Triggers>
                            </Image>
                        </Border>
                        <Border Grid.Row="1" ClipToBounds="True">
                            <Image Height="80" Source="{StaticResource Clouds}" >
                                <Image.RenderTransform>
                                    <TranslateTransform x:Name="myCloudsTranslate1"/>
                                </Image.RenderTransform>
                                <Image.Triggers>
                                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard SpeedRatio="1.0">
                                                    <DoubleAnimationUsingKeyFrames Duration="0:6:00"
                                                                       Storyboard.TargetName="myCloudsTranslate1"
                                                                       Storyboard.TargetProperty="X"
                                                                       RepeatBehavior="Forever">
                                                        <LinearDoubleKeyFrame Value="-410"  KeyTime="0:0:00"/>
                                                        <LinearDoubleKeyFrame Value="480" KeyTime="0:03:00"/>
                                                        <LinearDoubleKeyFrame Value="-410" KeyTime="0:06:00"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Image.Triggers>
                            </Image>
                        </Border>
                        <Border Grid.Row="2" ClipToBounds="True">
                            <Image Height="80" Source="{StaticResource Clouds}" >
                                <Image.RenderTransform>
                                    <TranslateTransform x:Name="myCloudsTranslate2"/>
                                </Image.RenderTransform>
                                <Image.Triggers>
                                    <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                        <EventTrigger.Actions>
                                            <BeginStoryboard>
                                                <Storyboard SpeedRatio="1.0">
                                                    <DoubleAnimationUsingKeyFrames Duration="0:06:00"
                                                                       Storyboard.TargetName="myCloudsTranslate2"
                                                                       Storyboard.TargetProperty="X"
                                                                       RepeatBehavior="Forever">
                                                        <LinearDoubleKeyFrame Value="400"  KeyTime="0:0:00"/>
                                                        <LinearDoubleKeyFrame Value="-480" KeyTime="0:3:00"/>
                                                        <LinearDoubleKeyFrame Value="400" KeyTime="0:6:00"/>
                                                    </DoubleAnimationUsingKeyFrames>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger.Actions>
                                    </EventTrigger>
                                </Image.Triggers>
                            </Image>
                        </Border>
                    </Grid>
                </Viewbox>
                <Rectangle RadiusX="10" RadiusY="10" Fill="#FF000000" >
                    <Rectangle.OpacityMask>
                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                            <GradientStop Color="#44FFFFFF" Offset="0"/>
                            <GradientStop Color="#00000000" Offset="1"/>
                            <GradientStop Color="#717C7C7C" Offset="0.51"/>
                        </LinearGradientBrush>
                    </Rectangle.OpacityMask>
                </Rectangle>
                <Viewbox>
                    <TextBlock Foreground="White" FontFamily="Calibri" Margin="1">+2</TextBlock>
                </Viewbox>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="local:PlayerHand.IsNew" Value="true">
                    <Setter TargetName="rect" Property="BitmapEffect">
                        <Setter.Value>
                            <DropShadowBitmapEffect x:Name="dropshadow" Color="Red" Direction="90" ShadowDepth="1" Softness=".75"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
    </UserControl.Template>
</UserControl>
